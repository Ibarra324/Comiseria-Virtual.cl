<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Carabineros | Chile Centro RolePlay</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <style>
        /* Estilos adicionales específicos para esta página */
        body {
            background-color: #e9ecef;
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <h1 class="admin-header">Panel de Carabineros</h1>

        <div id="accessDenied" class="admin-message" style="display:none; background-color: #f8d7da; color: #721c24; border-color: #f5c6cb;">
            <strong>Acceso Denegado:</strong> No tienes los permisos necesarios para acceder a este panel.
        </div>

        <div id="adminContent" style="display:none;">
            <p class="admin-message">Bienvenido al Panel de Carabineros. Aquí podrás ver los trámites enviados por los ciudadanos.</p>
            <h2>Trámites Recientes</h2>
            <ul class="admin-list" id="tramiteList">
                </ul>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const accessDeniedDiv = document.getElementById('accessDenied');
            const adminContentDiv = document.getElementById('adminContent');
            const tramiteList = document.getElementById('tramiteList');
            const storedUser = localStorage.getItem('discordUser');

            if (storedUser) {
                const user = JSON.parse(storedUser);
                // Simulación de verificación de rol de carabinero
                if (user.roles && user.roles.includes('carabinero')) {
                    adminContentDiv.style.display = 'block';
                    // Simulación de datos de trámites (esto vendría de tu backend)
                    const tramitesSimulados = [
                        { tipo: 'Hurto Simple', usuario: 'Ciudadano123' },
                        { tipo: 'Robo de Vehiculo', usuario: 'Usuario456' },
                        { tipo: 'Estafa', usuario: 'OtroUsuario' }
                    ];

                    tramitesSimulados.forEach(tramite => {
                        const listItem = document.createElement('li');
                        listItem.classList.add('admin-list-item');
                        listItem.innerHTML = `<strong>Tipo:</strong> ${tramite.tipo} - <strong>Enviado por:</strong> ${tramite.usuario}`;
                        tramiteList.appendChild(listItem);
                    });
                } else {
                    accessDeniedDiv.style.display = 'block';
                }
            } else {
                accessDeniedDiv.style.display = 'block';
            }
        });
    </script>
</body>
</html>
